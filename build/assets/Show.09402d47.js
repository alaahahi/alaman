import{y as Gt,r as p,u as Jt,a as c,g as l,j as a,w as v,F as T,o as u,H as Kt,k as b,b as t,t as r,i as _,e as gt,z as Qt,h as X,l as W,f as st,s as Xt,n as Yt}from"./app.4ebd0850.js";import{_ as Zt}from"./AuthenticatedLayout.720d4415.js";import{M as te}from"./Modal.5073e0a8.js";import{t as ee}from"./laravel-vue-pagination.es.e72a5f38.js";import{_ as h}from"./InputLabel.eb47326e.js";import{_ as N}from"./TextInput.ceeb5046.js";import{a as k}from"./index.4f3fe78b.js";import{M as ot}from"./ModalDelCar.73390fd4.js";import{_ as se}from"./ModalEditCar_S.fac721fb.js";import{_ as oe}from"./ModalAddCarPayment.281d87e4.js";import{_ as ae,a as re,b as le,c as de}from"./ModalShowExitCar.75478d35.js";import{p as vt}from"./print.721f5302.js";import{p as ne}from"./pay.f7f92ee6.js";import{t as ie}from"./trash.9f4f8443.js";import{e as ce}from"./edit.0064cdcd.js";import{s as ue}from"./show.ca7f7034.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.a76fb9ca.js";/* empty css                                                                 *//* empty css                                                       */const pe=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0627\u0644\u0623\u0645\u0627\u0646 \u0644\u0644\u062A\u062C\u0627\u0631\u0629 ",-1),me={class:"mb-5 dark:text-gray-400 text-center"},_e={class:"mb-5 dark:text-gray-400 text-center"},he=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),be={key:0},ye={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},xe={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},fe={key:1,class:"py-4"},ge={class:"text-center pb-2 dark:text-gray-400"},ve={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},ke={class:"overflow-hidden shadow-sm sm:rounded-lg"},we={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},$e={class:"pr-4"},Ce={value:"undefined",disabled:""},Ne=["value"],Ae={className:"mb-4  mr-5"},De={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},Pe=["value","checked"],Me={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},Ie={class:"px-4"},Se={className:"mb-4 mx-5"},Fe={class:"px-4"},Ee={className:"mb-4 mx-5"},Te={className:"mb-4  mr-5 print:hidden"},Be=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),Ue=[Be],Ve={className:"mb-4  mr-5 print:hidden"},Re=["href"],ze=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),qe=[ze],je={className:"mb-4  mr-5 print:hidden"},He=["href"],Le=t("span",null,"Excel",-1),We=[Le],Oe={className:"mb-4  mr-5"},Ge={className:"mb-4  mr-5"},Je={className:"mb-4  mr-5"},Ke={className:"mb-4  mr-5"},Qe={className:"mb-4  mr-5"},Xe={key:0,className:"mb-4  mr-5 print:hidden"},Ye=["disabled"],Ze=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),ts=[Ze],es=["disabled"],ss=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),os=[ss],as={className:"mb-4  mr-5 print:hidden"},rs=["disabled"],ls=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),ds=[ls],ns=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),is=[ns],cs={key:1,className:"mb-4  mr-5"},us={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"};const ps={className:"mb-4  mr-5"},ms={className:"mb-4  mr-5"},_s={className:"mb-4  mr-5 print:hidden"},hs=["disabled"],bs={key:0},ys={key:1},xs={key:2},fs={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},gs={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},vs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ks={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ws=t("th",{className:"px-1 py-2 text-base"},"#",-1),$s={className:"px-1 py-2 text-base"},Cs={className:"px-1 py-2 text-base"},Ns={className:"px-1 py-2 text-base"},As={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ds={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ps=t("td",null,null,-1),Ms=t("td",null,null,-1),Is=t("td",null,null,-1),Ss=t("td",null,null,-1),Fs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Es=["href"],Ts={key:0,class:"text-center"},Bs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Us={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Vs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},zs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},qs=["href"],js={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Hs=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),Ls=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),Ws={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Os={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Gs={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Js={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Ks=t("th",{scope:"col",class:"px-1 py-3 text-base"}," No ",-1),Qs={scope:"col",class:"px-1 py-3 text-base"},Xs={scope:"col",class:"px-1 py-3 text-base"},Ys={scope:"col",class:"px-1 py-3 text-base"},Zs={scope:"col",class:"px-1 py-3 text-base"},to={scope:"col",class:"px-1 py-3 text-base"},eo={scope:"col",class:"px-1 py-3 text-base"},so=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0646\u0642\u0644 \u062E\u0627\u0631\u062C\u064A ",-1),oo=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0646\u0642\u0644 \u062F\u0627\u062E\u0644\u064A ",-1),ao=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 ",-1),ro=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u062A\u062E\u0644\u064A\u0635 ",-1),lo=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0643\u0645\u0631\u0643 ",-1),no=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0644\u0648\u062D\u0627\u062A ",-1),io=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0636\u0631\u064A\u0628\u0629 ",-1),co=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 ",-1),uo=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 \u062F\u064A\u0646\u0627\u0631 ",-1),po={scope:"col",class:"px-1 py-3 text-base"},mo={scope:"col",class:"px-1 py-3 text-base"},_o=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0641\u0627\u0626\u062F\u0629 \u0627\u0644\u0634\u0631\u0643\u0629 ",-1),ho={scope:"col",class:"px-1 py-3 text-base"},bo={scope:"col",class:"px-1 py-3 text-base"},yo={scope:"col",class:"px-1 py-3 text-base",style:{width:"180px"}},xo=t("th",{class:"px-1 py-3 text-base"},"\u062A\u062E\u0632\u064A\u0646",-1),fo=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1),go={className:"border dark:border-gray-800 text-center px-1 py-2 "},vo={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},ko={className:"border dark:border-gray-800 text-center px-1 py-2 "},wo={className:"border dark:border-gray-800 text-center px-1 py-2 "},$o={className:"border dark:border-gray-800 text-center px-1 py-2 "},Co={className:"border dark:border-gray-800 text-center px-1 py-2 "},No={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ao={className:"border dark:border-gray-800 text-center px-1 py-2 "},Do={className:"border dark:border-gray-800 text-center px-1 py-2 "},Po={className:"border dark:border-gray-800 text-center px-1 py-2 "},Mo={className:"border dark:border-gray-800 text-center px-1 py-2 "},Io={className:"border dark:border-gray-800 text-center px-1 py-2 "},So={className:"border dark:border-gray-800 text-center px-1 py-2 "},Fo={className:"border dark:border-gray-800 text-center px-1 py-2 "},Eo={className:"border dark:border-gray-800 text-center px-1 py-2 "},To={className:"border dark:border-gray-800 text-center px-1 py-2 "},Bo={className:"border dark:border-gray-800 text-center px-1 py-2 "},Uo={className:"border dark:border-gray-800 text-center px-1 py-2 "},Vo={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ro={className:"border dark:border-gray-800 text-center px-1 py-2 "},zo={className:"border dark:border-gray-800 text-center px-1 py-2 "},qo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},jo=["onClick"],Ho=["onClick"],Lo=["onClick"],Wo=["onClick"],Oo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Go=["href"],Jo=["src"],Ko={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Qo=["onClick"],Xo=["onClick"],Yo={class:"mt-3 text-center",style:{direction:"ltr"}},Zo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},ta={class:"flex flex-row"},ea={class:"basis-1/2"},sa=t("br",null,null,-1),oa=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),aa=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),Aa={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(O){const Y=O;let y=Gt();p(0);let d=p({}),P=p(0),w=p(0),$=p(0),S=p(!1),B=p(!1),U=p(!1),F=p(!1),Z=p(!1),V=p(!1),x=p(!1),R=p(!1),z=p(!1),q=p(!1),G=p(!1);p(0);let n=p({}),tt=p(0),j=p(""),C=p(0),g=p(0);p(0);let H=p(!1),L=p(!1),K=async(o=1)=>{k.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${Y.client_id}&from=${w.value}&to=${$.value}`).then(s=>{d.value=s.data,g.value=s.data.client.id}).catch(s=>{console.error(s)})};function A(){return{totalAmount:d.value.transactions.filter(i=>i.type==="out"&&i.amount<0&&i.is_pay===1).reduce((i,m)=>i+m.amount,0)}}const M=async(o=1)=>{k.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${g.value}&from=${w.value}&to=${$.value}`).then(s=>{d.value=s.data,g.value=s.data.client.id}).catch(s=>{console.error(s)})};K();const kt=Jt();let D=p(!1);function wt(o){kt.get(route("sentToCourt",o)),K(),D.value=!1}function $t(o={}){n.value=o,U.value=!0}function Ct(o={}){n.value=o,n.value.shipping_dolar_s==0&&(n.value.shipping_dolar_s=n.value.shipping_dolar),n.value.coc_dolar_s==0&&(n.value.coc_dolar_s=n.value.coc_dolar),n.value.checkout_s==0&&(n.value.checkout_s=n.value.checkout),n.value.expenses_s==0&&(n.value.expenses_s=n.value.expenses),B.value=!0}function Nt(o={}){n.value=o,n.value.notePayment=" \u0628\u064A\u062F ",F.value=!0}function At(o){k.post("/api/DelCar",o).then(s=>{U.value=!1,window.location.reload()}).catch(s=>{console.error(s)})}function Dt(o){B.value=!1,k.post("/api/updateCarsS",o).then(s=>{D.value=!1,y.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),M()}).catch(s=>{y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),M()})}function Pt(o){var s,i;o.discountPayment||(o.discountPayment=0),k.get(`/api/addPaymentCar?car_id=${o.id}&discount=${o.discountPayment}&amount=${(s=o.amountPayment)!=null?s:0}&note=${(i=o.notePayment)!=null?i:""}`).then(m=>{F.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),M();let f=m.data;window.open(`/api/getIndexAccountsSelas?user_id=${Y.client_id}&print=2&transactions_id=${f.id}`,"_blank")}).catch(m=>{D.value=!1,console.log(m),y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Mt(o,s,i,m){P.value=!0,k.get(`/api/addPaymentCarTotal?amount=${o!=null?o:0}&discount=${i!=null?i:0}&note=${m}&client_id=${s!=null?s:0}`).then(f=>{F.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),S.value=!1,P.value=!1,M(),It();let E=f.data;window.open(`/api/getIndexAccountsSelas?user_id=${Y.client_id}&print=2&transactions_id=${E.id}`,"_blank")}).catch(f=>{console.log(f),D.value=!1,P.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function It(){C.value=0,tt.value=0,j.value=""}function St(){S.value=!0,V.value=!1}function Ft(){S.value=!1}function Et(){V.value=!0,S.value=!1}function Tt(){V.value=!1}function Bt(o={}){n.value=o,G.value=!0}function ra(){var s,i,m;let o=(m=(i=(s=d==null?void 0:d.value)==null?void 0:s.client)==null?void 0:i.wallet)==null?void 0:m.balance;C.value=o-tt.value}function Ut(){var s,i,m;let o=(m=(i=(s=d==null?void 0:d.value)==null?void 0:s.client)==null?void 0:i.wallet)==null?void 0:m.balance;console.log(o),C.value>o?(C.value=o,Z.value=!0,y.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+C.value,{timeout:4e3,position:"bottom-right",rtl:!0})):Z.value=!1}function Vt(o){var s,i,m,f,E,J;k.get(`/api/addCarContracts?car_id=${o.id}&price=${(s=o.prices)!=null?s:0}&price_dinar=${(i=o.price_dinars)!=null?i:0}&paid=${(m=o.paids)!=null?m:0}&paid_dinar=${(f=o.paid_dinars)!=null?f:0}&phone=${(E=o.phone)!=null?E:""}&note=${(J=o.note)!=null?J:""}`).then(Q=>{R.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),M()}).catch(Q=>{R.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Rt(o){var s,i,m;k.get(`/api/editCarContracts?car_id=${o.id}&paid=${(s=o.paids)!=null?s:0}&paid_dinar=${(i=o.paid_dinars)!=null?i:0}&note=${(m=o.notePayment)!=null?m:""}`).then(f=>{z.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),M()}).catch(f=>{z.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function at(o){k.get(`/api/makeCarExit?car_id=${o.id}&created=${o.createdExit}&phone=${o.phoneExit}&note=${o.noteExit}`).then(s=>{q.value=!1,y.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),M()}).catch(s=>{q.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function zt(o){return`/public/uploadsResized/${o}`}function qt(o){return`/public/uploads/${o}`}function jt(o={}){n.value=o,H.value=!0}function Ht(o={}){n.value=o,L.value=!0}function Lt(o){var s,i;o.balance=A().totalAmount*-1-((s=d.value)==null?void 0:s.cars_paid)-((i=d.value)==null?void 0:i.cars_discount),k.post("/api/AddPayFromBalanceCar",o).then(m=>{H.value=!1,window.location.reload()}).catch(m=>{console.error(m)})}function Wt(o){k.post("/api/DelPayFromBalanceCar",o).then(s=>{L.value=!1,window.location.reload()}).catch(s=>{console.error(s)})}return(o,s)=>(u(),c(T,null,[l(a(Kt),{title:"Dashboard"}),l(Zt,null,{header:v(()=>[pe]),default:v(()=>{var i,m,f,E,J,Q,rt,lt,dt,nt,it,ct,ut,pt,mt,_t;return[l(ot,{show:!!a(H),formData:a(n),onA:s[0]||(s[0]=e=>Lt(e)),onClose:s[1]||(s[1]=e=>b(H)?H.value=!1:H=!1)},{header:v(()=>[t("h2",me," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+r(a(n).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),l(ot,{show:!!a(L),formData:a(n),onA:s[2]||(s[2]=e=>Wt(e)),onClose:s[3]||(s[3]=e=>b(L)?L.value=!1:L=!1)},{header:v(()=>[t("h2",_e," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+r(a(n).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),l(ae,{formData:a(n),show:!!a(R),onA:s[4]||(s[4]=e=>Vt(e)),onClose:s[5]||(s[5]=e=>b(R)?R.value=!1:R=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),l(re,{formData:a(n),show:!!a(z),onA:s[6]||(s[6]=e=>Rt(e)),onClose:s[7]||(s[7]=e=>b(z)?z.value=!1:z=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),l(le,{formData:a(n),show:!!a(q),onA:s[8]||(s[8]=e=>at(e)),onClose:s[9]||(s[9]=e=>b(q)?q.value=!1:q=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),l(de,{formData:a(n),show:!!a(G),onA:s[10]||(s[10]=e=>at(e)),onClose:s[11]||(s[11]=e=>b(G)?G.value=!1:G=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),l(se,{formData:a(n),show:!!a(B),client:O.clients,onA:s[12]||(s[12]=e=>Dt(e)),onClose:s[13]||(s[13]=e=>b(B)?B.value=!1:B=!1)},{header:v(()=>[]),_:1},8,["formData","show","client"]),l(oe,{formData:a(n),show:!!a(F),onA:s[14]||(s[14]=e=>Pt(e)),onClose:s[15]||(s[15]=e=>b(F)?F.value=!1:F=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),l(ot,{show:!!a(U),formData:a(n),onA:s[16]||(s[16]=e=>At(e)),onClose:s[17]||(s[17]=e=>b(U)?U.value=!1:U=!1)},{header:v(()=>[he]),_:1},8,["show","formData"]),l(te,{show:!!a(D),data:a(D).toString(),onA:s[18]||(s[18]=e=>wt(e,o.arg1)),onClose:s[19]||(s[19]=e=>b(D)?D.value=!1:D=!1)},null,8,["show","data"]),o.$page.props.success?(u(),c("div",be,[t("div",ye,[t("div",xe,r(o.$page.props.success),1)])])):_("",!0),o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==6?(u(),c("div",fe,[t("h2",ge,r(o.$t("sales_bill")),1),t("div",ve,[t("div",ke,[t("div",we,[t("div",$e,[l(h,{class:"mb-1",for:"invoice_number",value:o.$t("Account")},null,8,["value"]),gt(t("select",{onChange:s[20]||(s[20]=e=>M()),"onUpdate:modelValue":s[21]||(s[21]=e=>b(g)?g.value=e:g=e),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",Ce,r(o.$t("selectCustomer")),1),(u(!0),c(T,null,X(O.clients,(e,et)=>(u(),c(T,{key:et},[e.wallet.balance>0||e.id==a(g)?(u(),c("option",{key:0,value:e.id},r(e.name),9,Ne)):_("",!0)],64))),128))],544),[[Qt,a(g)]])]),t("div",null,[t("div",Ae,[l(h,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",De,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:s[22]||(s[22]=e=>a(x)==!0?b(x)?x.value=!1:x=!1:b(x)?x.value=!0:x=!0),value:a(x),checked:!a(x),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Pe),t("label",Me,r(a(x)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",Ie,[t("div",Se,[l(h,{for:"from",value:o.$t("from_date")},null,8,["value"]),l(N,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:a(w),"onUpdate:modelValue":s[23]||(s[23]=e=>b(w)?w.value=e:w=e)},null,8,["modelValue"])])]),t("div",Fe,[t("div",Ee,[l(h,{for:"to",value:o.$t("to_date")},null,8,["value"]),l(N,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:a($),"onUpdate:modelValue":s[24]||(s[24]=e=>b($)?$.value=e:$=e)},null,8,["modelValue"])])]),t("div",Te,[l(h,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:s[25]||(s[25]=W(e=>a(K)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},Ue)]),t("div",Ve,[l(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(g)}&from=${a(w)}&to=${a($)}&print=1&showComplatedCars=${a(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},qe,8,Re)]),t("div",je,[l(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(g)}&from=${a(w)}&to=${a($)}&print=1&printExcel=1&showComplatedCars=${a(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},We,8,He)]),t("div",Oe,[l(h,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(N,{id:"car_total",type:"text",class:"mt-1 block w-full",value:a(d).car_total,disabled:""},null,8,["value"])]),t("div",Ge,[l(h,{for:"cars_sum",value:o.$t("Total_in_dollars")},null,8,["value"]),l(N,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(i=a(d))==null?void 0:i.cars_sum,disabled:""},null,8,["value"])]),t("div",Je,[l(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(N,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((m=a(d))==null?void 0:m.cars_sum)-(parseFloat((J=(E=(f=a(d))==null?void 0:f.client)==null?void 0:E.wallet)==null?void 0:J.balance)+parseFloat((Q=a(d))==null?void 0:Q.cars_discount)),disabled:""},null,8,["value"])]),t("div",Ke,[l(h,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(N,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(rt=a(d))==null?void 0:rt.cars_discount,disabled:""},null,8,["value"])]),t("div",Qe,[l(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(N,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:A().totalAmount*-1-((lt=a(d))==null?void 0:lt.cars_sum),disabled:""},null,8,["value"])]),A().totalAmount*-1-((dt=a(d))==null?void 0:dt.cars_sum)!=0?(u(),c("div",Xe,[l(h,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),a(S)?_("",!0):(u(),c("button",{key:0,onClick:s[26]||(s[26]=W(e=>St(),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},ts,8,Ye)),a(S)?(u(),c("button",{key:1,onClick:s[27]||(s[27]=W(e=>Ft(),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},os,8,es)):_("",!0)])):_("",!0),t("div",as,[l(h,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),a(V)?_("",!0):(u(),c("button",{key:0,onClick:s[28]||(s[28]=W(e=>Et(),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},ds,8,rs)),a(V)?(u(),c("button",{key:1,onClick:s[29]||(s[29]=W(e=>Tt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},is)):_("",!0)]),A().totalAmount*-1-((nt=a(d))==null?void 0:nt.cars_discount)-((it=a(d))==null?void 0:it.cars_paid)!=0?(u(),c("div",cs,[l(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(N,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:A().totalAmount*-1-((ct=a(d))==null?void 0:ct.cars_discount)-((ut=a(d))==null?void 0:ut.cars_paid)},null,8,["value"])])):_("",!0)]),a(S)?(u(),c("div",us,[_("",!0),t("div",ps,[l(h,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(N,{id:"percentage",type:"number",onInput:Ut,class:"mt-1 block w-full",modelValue:a(C),"onUpdate:modelValue":s[31]||(s[31]=e=>b(C)?C.value=e:C=e)},null,8,["modelValue"])]),t("div",ms,[l(h,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),l(N,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:a(j),"onUpdate:modelValue":s[32]||(s[32]=e=>b(j)?j.value=e:j=e)},null,8,["modelValue"])]),t("div",_s,[l(h,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:s[33]||(s[33]=W(e=>Mt(a(C),a(g),a(tt),a(j)),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[a(Z)?(u(),c("span",bs,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):_("",!0),a(P)?(u(),c("span",xs,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(u(),c("span",ys,"\u062F\u0641\u0639"))],8,hs)])])):_("",!0),a(V)?(u(),c("div",fs,[t("table",gs,[t("thead",vs,[t("tr",ks,[ws,t("th",$s,r(o.$t("date")),1),t("th",Cs,r(o.$t("description")),1),t("th",Ns,r(o.$t("amount")),1),t("th",As,r(o.$t("execute")),1)])]),t("tbody",null,[t("tr",Ds,[Ps,Ms,Is,Ss,t("td",Fs,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&from=${a(w)}&to=${a($)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[st(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),l(vt)],8,Es)])]),(u(!0),c(T,null,X(a(d).transactions,e=>(u(),c(T,{key:e.id},[e.type=="out"&&e.amount<0&&e.is_pay==1?(u(),c("tr",Ts,[t("td",Bs,r(e.id),1),t("td",Us,r(e.created),1),t("td",Vs,r(e.description),1),t("td",Rs,r(e.amount*-1),1),t("td",zs,[e.type=="out"&&e.amount<0?(u(),c("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&from=${a(w)}&to=${a($)}&print=2&transactions_id=${e.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[l(vt)],8,qs)):_("",!0)])])):_("",!0)],64))),128)),t("tr",js,[Hs,t("td",null,r((pt=a(d))==null?void 0:pt.cars_discount),1),Ls,t("td",Ws,r(A().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+r(A().totalAmount*-1-parseInt((mt=a(d))==null?void 0:mt.cars_discount)),1)])])])])):_("",!0),t("div",null,[t("div",Os,[t("table",Gs,[t("thead",Js,[t("tr",null,[Ks,t("th",Qs,r(o.$t("car_owner")),1),t("th",Xs,r(o.$t("car_type")),1),t("th",Ys,r(o.$t("year")),1),t("th",Zs,r(o.$t("color")),1),t("th",to,r(o.$t("vin")),1),t("th",eo,r(o.$t("car_number")),1),so,oo,ao,ro,lo,no,io,co,uo,t("th",po,r(o.$t("total")),1),t("th",mo,r(o.$t("paid")),1),_o,t("th",ho,r(o.$t("date")),1),t("th",bo,r(o.$t("note")),1),t("th",yo,r(o.$t("execute")),1),xo,fo])]),t("tbody",null,[(u(!0),c(T,null,X(a(d).data,(e,et)=>{var ht,bt,yt,xt,ft;return gt((u(),c("tr",{key:e.id,class:Yt([{"bg-red-100 dark:bg-red-900":e.results==0,"bg-red-100 dark:bg-red-900":e.results==1,"bg-green-100 dark:bg-green-900":e.results==2,"bg-yellow-100 dark:bg-yellow-900":e.vin.startsWith(O.q)||(e.car_number?e.car_number.toString().startsWith(O.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",go,r(et+1),1),t("td",vo,r((ht=e.client)==null?void 0:ht.name),1),t("td",ko,r(e.car_type),1),t("td",wo,r(e.year),1),t("td",$o,r(e.car_color),1),t("td",Co,r(e.vin),1),t("td",No,r(e.car_number),1),t("td",Ao,r(e.shipping_dolar_s),1),t("td",Do,r(e.coc_dolar_s),1),t("td",Po,r(e.dolar_price_s),1),t("td",Mo,r(e.checkout_s),1),t("td",Io,r(e.dinar_s),1),t("td",So,r(e.commission_s),1),t("td",Fo,r(e.tax_s),1),t("td",Eo,r(e.expenses_s),1),t("td",To,r(e.expenses_dinar_s),1),t("td",Bo,r(e.total_s.toFixed(0)),1),t("td",Uo,r(e.paid),1),t("td",Vo,r((e.total_s-e.total).toFixed(0)),1),t("td",Ro,r(e.date),1),t("td",zo,r(e.note),1),t("td",qo,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:I=>Ct(e)},[l(ce)],8,jo),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:I=>$t(e)},[l(ie)],8,Ho),e.total_s!=e.paid+e.discount?(u(),c("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:I=>Nt(e)},[l(ne)],8,Lo)):_("",!0),e.is_exit?(u(),c("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:I=>Bt(e)},[l(ue)],8,Wo)):_("",!0)]),t("td",Oo,[(u(!0),c(T,null,X(e.car_images,(I,Ot)=>(u(),c("a",{key:Ot,href:qt(I.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:zt(I.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Jo)],8,Go))),128))]),t("td",Ko,[A().totalAmount*-1-((bt=a(d))==null?void 0:bt.cars_discount)-((yt=a(d))==null?void 0:yt.cars_paid)!=0?(u(),c("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:I=>jt(e)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Qo)):_("",!0),A().totalAmount*-1-((xt=a(d))==null?void 0:xt.cars_discount)-((ft=a(d))==null?void 0:ft.cars_sum)!=0&&e.paid?(u(),c("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:I=>Ht(e)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Xo)):_("",!0)])],2)),[[Xt,e.results==2&&a(x)||e.results!=2]])}),128))])])])]),t("div",Yo,[l(a(ee),{data:a(d),onPaginationChangePage:a(K),limit:2},null,8,["data","onPaginationChangePage"])])])])])):_("",!0),t("div",Zo,[t("div",ta,[t("div",ea,[st(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),sa,st(" "+r((_t=a(d).client)==null?void 0:_t.name),1)]),oa,aa])])]}),_:1})],64))}};export{Aa as default};
