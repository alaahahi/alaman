import{r as a,o as p,c as K,w as f,a as c,b as e,d as P,e as V,v as M,i as x,T as Q,u as X,g as d,j as i,F as j,H as Z,k as y,t as C,l as ee,h as se,n as te}from"./app.f88aee8f.js";import{_ as oe}from"./AuthenticatedLayout.53aefbfa.js";/* empty css                                              */import{M as ae,_ as le,a as re,b as ne}from"./ModalDel.e8e3b828.js";import{_ as k}from"./InputLabel.001e21a4.js";import{_ as T}from"./TextInput.83362b25.js";/* empty css                                                            */import{a as v}from"./index.b92fc99b.js";import{W as de}from"./v3-infinite-loading.es.0a8937a1.js";import{d as ie}from"./debounce.9d2e66da.js";const ue={key:0,class:"modal-mask"},pe={class:"modal-wrapper max-h-[80vh]"},ce={class:"modal-container"},me={class:"modal-header"},ge={class:"modal-body"},ve={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 lg:gap-3"},fe={className:"mb-4 mx-5"},he=e("label",{for:"amountDollar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),be={className:"mb-4 mx-5"},_e=e("label",{for:"amountDinar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A",-1),ye={className:"mb-4 mx-5"},xe=e("label",{for:"note"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1),we={className:"mb-4 mx-5"},$e=e("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1),ke={class:"modal-footer my-2"},De={class:"flex flex-row"},Ne={class:"basis-1/2 px-4"},Ce={class:"basis-1/2 px-4"},Be={__name:"ModalAddExpensesWallet",props:{show:Boolean,boxes:Array,sum_transactions:Intl,sum_transactions_dinar:Intl},setup(g){const D=g,r=a({id:D.boxes.id,date:m()});function m(){const u=new Date,l=u.getFullYear(),n=String(u.getMonth()+1).padStart(2,"0"),h=String(u.getDate()).padStart(2,"0");return`${l}-${n}-${h}`}const B=()=>{r.value={id:D.boxes.id,date:m()}};return(u,l)=>(p(),K(Q,{name:"modal"},{default:f(()=>[g.show?(p(),c("div",ue,[e("div",pe,[e("div",ce,[e("div",me,[P(u.$slots,"header")]),e("div",ge,[e("div",ve,[e("div",fe,[he,V(e("input",{id:"amountDollar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[0]||(l[0]=n=>r.value.amountDollar=n)},null,512),[[M,r.value.amountDollar]])]),e("div",be,[_e,V(e("input",{id:"amountDinar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[1]||(l[1]=n=>r.value.amountDinar=n)},null,512),[[M,r.value.amountDinar]])]),e("div",ye,[xe,V(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[2]||(l[2]=n=>r.value.note=n)},null,512),[[M,r.value.note]])]),e("div",we,[$e,V(e("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[3]||(l[3]=n=>r.value.date=n)},null,512),[[M,r.value.date]])])])]),e("div",ke,[e("div",De,[e("div",Ne,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:l[4]||(l[4]=n=>{u.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",Ce,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:l[5]||(l[5]=n=>{u.$emit("a",r.value),B()})},"\u0646\u0639\u0645")])])])])])])):x("",!0)]),_:3}))}};const Ae=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1),Ue=e("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Ve=e("h3",{class:"text-center"}," \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0642\u0627\u0633\u0647",-1),Me=e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0644\u0644\u062F\u064A\u0646\u0627\u0631",-1),Te=e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0644\u062F\u0648\u0644\u0627\u0631",-1),Se={key:0},Ie={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ee={class:"ml-3 font-medium text-red-700 dark:text-red-800"},We={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Oe={class:"overflow-hidden shadow-sm sm:rounded-lg"},Fe={class:"border-b border-gray-200"},je={class:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-3 lg:gap-3 mb-4"},qe={class:"pt-5 print:hidden"},He={class:"pt-5 print:hidden"},Le={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 lg:gap-3"},Re={class:"pt-5 print:hidden"},ze={class:"pt-5 print:hidden"},Ye={class:"px-4"},Ge={class:"px-4"},Je={className:" mr-5 print:hidden"},Ke={key:0},Pe={key:1},Qe={className:" mr-5 print:hidden"},Xe=["href"],Ze={key:0},es={key:1};const ss={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3"},ts={class:"px-4"},os={class:"px-4"},as={class:"overflow-x-auto shadow-md mt-5"},ls={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},rs=e("thead",{class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},[e("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[e("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0645\u0628\u0644\u063A"),e("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1),ns={className:"border dark:border-gray-800 text-center px-2 py-1"},ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},ps=e("td",{className:"border dark:border-gray-800 text-center px-2 py-1"},null,-1),cs={class:"spaner"},Ds={__name:"Wallet",props:{url:String,boxes:Object},setup(g){const D=g,r=a({});a("");let m=a(!1),B=a(!1),u=a(!1);a(!1);let l=a(!1),n=a(!1),h=a(!1),A=a([]);a(0);let q=a({});a({}),a({});let E=a(!1),w=a(""),$=a(""),U=a("");a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0);let S=a(!1),I=1,H="";const N=()=>{I=0,A.value.length=0,S.value=!S.value};ie(N,500);const L=async o=>{try{const _=(await v.get("/getIndexAccounting",{params:{limit:100,page:I,q:H,user_id:D.boxes.id,from:w.value,to:$.value,type:"wallet"}})).data;_.transactions.data.length<100?(A.value.push(..._.transactions.data),o.complete()):(A.value.push(..._.transactions.data),o.loaded()),r.value=_,I++}catch(s){console.log(s)}};function W(o){U.value=o,m.value=!0}function O(o){U.value=o,u.value=!0}function ms(){l.value=!0}function gs(){n.value=!0}X(),a(!1);const b=a(0);function R(o){o.id=D.boxes.id,U.value=="outBox"?v.post("/api/receiptArrivedUserOutBox",o).then(s=>{m.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors}):v.post("/api/receiptArrivedUser",o).then(s=>{m.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors})}function z(o){U.value=="outBox"?v.post("/api/salesDebtUserOutBox",o).then(s=>{B.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors}):v.post("/api/salesDebtUser",o).then(s=>{B.value=!1,u.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors})}function Y(o){v.post("/api/convertDollarDinar",o).then(s=>{N(),l.value=!1}).catch(s=>{b.value=s.response.data.errors})}function G(o){v.post("/api/convertDinarDollar",o).then(s=>{N(),n.value=!1}).catch(s=>{b.value=s.response.data.errors})}function J(o){v.post(`/api/delTransactions?id=${o.id}`).then(s=>{N(),h.value=!1}).catch(s=>{b.value=s.response.data.errors})}return(o,s)=>(p(),c(j,null,[d(i(Z),{title:"Dashboard"}),d(oe,null,{header:f(()=>[]),default:f(()=>{var _,F;return[d(ae,{show:!!i(h),formData:i(q),onA:s[0]||(s[0]=t=>J(t)),onClose:s[1]||(s[1]=t=>y(h)?h.value=!1:h=!1)},{header:f(()=>[Ae]),_:1},8,["show","formData"]),d(le,{show:!!i(m),onA:s[2]||(s[2]=t=>R(t)),onClose:s[3]||(s[3]=t=>y(m)?m.value=!1:m=!1)},{header:f(()=>[Ue]),_:1},8,["show"]),d(Be,{show:!!i(u),boxes:g.boxes,sum_transactions:r.value.sum_transactions,sum_transactions_dinar:r.value.sum_transactions_dinar,onA:s[4]||(s[4]=t=>z(t)),onClose:s[5]||(s[5]=t=>y(u)?u.value=!1:u=!1)},{header:f(()=>[Ve]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),d(re,{show:!!i(l),boxes:g.boxes,onA:s[6]||(s[6]=t=>Y(t)),onClose:s[7]||(s[7]=t=>y(l)?l.value=!1:l=!1)},{header:f(()=>[Me]),_:1},8,["show","boxes"]),d(ne,{show:!!i(n),boxes:g.boxes,onA:s[8]||(s[8]=t=>G(t)),onClose:s[9]||(s[9]=t=>y(n)?n.value=!1:n=!1)},{header:f(()=>[Te]),_:1},8,["show","boxes"]),o.$page.props.success?(p(),c("div",Se,[e("div",Ie,[e("div",Ee,C(o.$page.props.success),1)])])):x("",!0),e("div",null,[e("div",We,[e("div",Oe,[e("div",Fe,[e("div",je,[e("div",qe,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none",onClick:s[10]||(s[10]=t=>W("outBox"))}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) - \u0628\u062F\u0648\u0646 \u0642\u0627\u0633\u0647 ")):x("",!0)]),e("div",He,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none",onClick:s[11]||(s[11]=t=>O("outBox"))}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) - \u0628\u062F\u0648\u0646 \u0642\u0627\u0633\u0647 ")):x("",!0)])]),e("div",Le,[e("div",Re,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none",onClick:s[12]||(s[12]=t=>W())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):x("",!0)]),e("div",ze,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none",onClick:s[13]||(s[13]=t=>O())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):x("",!0)]),e("div",Ye,[e("div",null,[d(k,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),d(T,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:i(w),"onUpdate:modelValue":s[14]||(s[14]=t=>y(w)?w.value=t:w=t)},null,8,["modelValue"])])]),e("div",Ge,[e("div",null,[d(k,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),d(T,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:i($),"onUpdate:modelValue":s[15]||(s[15]=t=>y($)?$.value=t:$=t)},null,8,["modelValue"])])]),e("div",Je,[d(k,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:s[16]||(s[16]=ee(t=>N(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[i(E)?(p(),c("span",Pe,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Ke,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",Qe,[d(k,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded",style:{display:"block","text-align":"center"},href:`/getIndexAccounting?user_id=${(F=(_=r.value)==null?void 0:_.user)==null?void 0:F.id}&from=${i(w)}&to=${i($)}&print=1`,target:"_blank"},[i(E)?(p(),c("span",es,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Ze,"\u0637\u0628\u0627\u0639\u0629"))],8,Xe)])]),x("",!0),e("div",ss,[e("div",ts,[e("div",null,[d(k,{for:"to",value:`\u062D\u0633\u0627\u0628 ${g.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),d(T,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:r.value.sumInTransactionsUser-r.value.sumOutTransactionsUser},null,8,["value"])])]),e("div",os,[e("div",null,[d(k,{for:"to",value:`\u062D\u0633\u0627\u0628 ${g.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),d(T,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:r.value.sumInTransactionsDinarUser-r.value.sumOutTransactionsDinarUser},null,8,["value"])])])]),e("div",as,[e("table",ls,[rs,e("tbody",null,[(p(!0),c(j,null,se(i(A),t=>(p(),c("tr",{key:t.id,class:te([t.type!="inUser"?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",ns,C(t.id),1),e("td",ds,C(t==null?void 0:t.created),1),e("th",is,C(t.description),1),e("td",us,C(t.amount+" "+t.currency),1),ps],2))),128))])])]),e("div",cs,[d(i(de),{car:o.car,onInfinite:L,identifier:i(S)},null,8,["car","identifier"])])])])])])]}),_:1})],64))}};export{Ds as default};
