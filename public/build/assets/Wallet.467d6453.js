import{r as a,o as p,c as P,w as f,a as c,b as e,d as Q,e as V,v as M,i as x,T as X,u as Z,g as d,j as i,F as L,H as ee,k as y,t as C,l as se,h as te,n as oe}from"./app.3ae6e7ab.js";import{_ as ae}from"./AuthenticatedLayout.305e7cb1.js";/* empty css                                              */import{M as le,_ as re,a as ne,b as de}from"./ModalDel.e5d47b0d.js";import{_ as k}from"./InputLabel.6344f858.js";import{_ as S}from"./TextInput.8b573112.js";/* empty css                                                            */import{a as v}from"./index.b7406f11.js";import{W as ie}from"./v3-infinite-loading.es.317efb3c.js";import{d as ue}from"./debounce.a6876f37.js";const pe={key:0,class:"modal-mask"},ce={class:"modal-wrapper max-h-[80vh]"},me={class:"modal-container"},ge={class:"modal-header"},ve={class:"modal-body"},fe={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 lg:gap-3"},he={className:"mb-4 mx-5"},be=e("label",{for:"amountDollar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),_e={className:"mb-4 mx-5"},ye=e("label",{for:"amountDinar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A",-1),xe={className:"mb-4 mx-5"},we=e("label",{for:"note"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1),$e={className:"mb-4 mx-5"},ke=e("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1),De={class:"modal-footer my-2"},Ne={class:"flex flex-row"},Ce={class:"basis-1/2 px-4"},Be={class:"basis-1/2 px-4"},Ae={__name:"ModalAddExpensesWallet",props:{show:Boolean,boxes:Array,sum_transactions:Intl,sum_transactions_dinar:Intl},setup(g){const D=g,r=a({id:D.boxes.id,date:m()});function m(){const u=new Date,l=u.getFullYear(),n=String(u.getMonth()+1).padStart(2,"0"),h=String(u.getDate()).padStart(2,"0");return`${l}-${n}-${h}`}const B=()=>{r.value={id:D.boxes.id,date:m()}};return(u,l)=>(p(),P(X,{name:"modal"},{default:f(()=>[g.show?(p(),c("div",pe,[e("div",ce,[e("div",me,[e("div",ge,[Q(u.$slots,"header")]),e("div",ve,[e("div",fe,[e("div",he,[be,V(e("input",{id:"amountDollar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[0]||(l[0]=n=>r.value.amountDollar=n)},null,512),[[M,r.value.amountDollar]])]),e("div",_e,[ye,V(e("input",{id:"amountDinar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[1]||(l[1]=n=>r.value.amountDinar=n)},null,512),[[M,r.value.amountDinar]])]),e("div",xe,[we,V(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[2]||(l[2]=n=>r.value.note=n)},null,512),[[M,r.value.note]])]),e("div",$e,[ke,V(e("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[3]||(l[3]=n=>r.value.date=n)},null,512),[[M,r.value.date]])])])]),e("div",De,[e("div",Ne,[e("div",Ce,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:l[4]||(l[4]=n=>{u.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",Be,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:l[5]||(l[5]=n=>{u.$emit("a",r.value),B()})},"\u0646\u0639\u0645")])])])])])])):x("",!0)]),_:3}))}};const Ue=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1),Ve=e("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Me=e("h3",{class:"text-center"}," \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0642\u0627\u0633\u0647",-1),Se=e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0644\u0644\u062F\u064A\u0646\u0627\u0631",-1),Te=e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0644\u062F\u0648\u0644\u0627\u0631",-1),Ie={key:0},Ee={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},We={class:"ml-3 font-medium text-red-700 dark:text-red-800"},Fe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Oe={class:"overflow-hidden shadow-sm sm:rounded-lg"},je={class:"border-b border-gray-200"},Le={class:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-3 lg:gap-3 mb-4"},Re={class:"pt-5 print:hidden"},qe={class:"pt-5 print:hidden"},He={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 lg:gap-3"},ze={class:"pt-5 print:hidden"},Ye={class:"pt-5 print:hidden"},Ge={class:"px-4"},Je={class:"px-4"},Ke={className:" mr-5 print:hidden"},Pe={key:0},Qe={key:1},Xe={className:" mr-5 print:hidden"},Ze=["href"],es={key:0},ss={key:1};const ts={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3"},os={class:"px-4"},as={class:"px-4"},ls={class:"overflow-x-auto shadow-md mt-5"},rs={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},ns=e("thead",{class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},[e("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[e("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0645\u0628\u0644\u063A"),e("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1),ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},ps={className:"border dark:border-gray-800 text-center px-2 py-1"},cs=e("td",{className:"border dark:border-gray-800 text-center px-2 py-1"},null,-1),ms={class:"spaner"},Ns={__name:"Wallet",props:{url:String,boxes:Object},setup(g){const D=g,r=a({});a("");let m=a(!1),B=a(!1),u=a(!1);a(!1);let l=a(!1),n=a(!1),h=a(!1),A=a([]);a(0);let R=a({});a({}),a({});let E=a(!1),w=a(""),$=a(""),U=a("");a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0);let T=a(!1),I=1,q="";const N=()=>{I=0,A.value.length=0,T.value=!T.value};ue(N,500);const H=async t=>{try{const _=(await v.get("/getIndexAccounting",{params:{limit:100,page:I,q,user_id:D.boxes.id,from:w.value,to:$.value,type:"wallet"}})).data;_.transactions.data.length<100?(A.value.push(..._.transactions.data),t.complete()):(A.value.push(..._.transactions.data),t.loaded()),r.value=_,I++}catch(s){console.log(s)}};function W(t){U.value=t,m.value=!0}function F(t){U.value=t,u.value=!0}function gs(){l.value=!0}function vs(){n.value=!0}Z(),a(!1);const b=a(0);function z(t){t.id=D.boxes.id,U.value=="outBox"?v.post("/api/receiptArrivedUserOutBox",t).then(s=>{m.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors}):v.post("/api/receiptArrivedUser",t).then(s=>{m.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors})}function Y(t){U.value=="outBox"?v.post("/api/salesDebtUserOutBox",t).then(s=>{B.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors}):v.post("/api/salesDebtUser",t).then(s=>{B.value=!1,u.value=!1,window.location.reload()}).catch(s=>{b.value=s.response.data.errors})}function G(t){v.post("/api/convertDollarDinar",t).then(s=>{N(),l.value=!1}).catch(s=>{b.value=s.response.data.errors})}function J(t){v.post("/api/convertDinarDollar",t).then(s=>{N(),n.value=!1}).catch(s=>{b.value=s.response.data.errors})}function K(t){v.post(`/api/delTransactions?id=${t.id}`).then(s=>{N(),h.value=!1}).catch(s=>{b.value=s.response.data.errors})}function O(t){return t?(typeof t!="number"&&(t=parseFloat(t)||0),t.toLocaleString()):0}return(t,s)=>(p(),c(L,null,[d(i(ee),{title:"Dashboard"}),d(ae,null,{header:f(()=>[]),default:f(()=>{var _,j;return[d(le,{show:!!i(h),formData:i(R),onA:s[0]||(s[0]=o=>K(o)),onClose:s[1]||(s[1]=o=>y(h)?h.value=!1:h=!1)},{header:f(()=>[Ue]),_:1},8,["show","formData"]),d(re,{show:!!i(m),onA:s[2]||(s[2]=o=>z(o)),onClose:s[3]||(s[3]=o=>y(m)?m.value=!1:m=!1)},{header:f(()=>[Ve]),_:1},8,["show"]),d(Ae,{show:!!i(u),boxes:g.boxes,sum_transactions:r.value.sum_transactions,sum_transactions_dinar:r.value.sum_transactions_dinar,onA:s[4]||(s[4]=o=>Y(o)),onClose:s[5]||(s[5]=o=>y(u)?u.value=!1:u=!1)},{header:f(()=>[Me]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),d(ne,{show:!!i(l),boxes:g.boxes,onA:s[6]||(s[6]=o=>G(o)),onClose:s[7]||(s[7]=o=>y(l)?l.value=!1:l=!1)},{header:f(()=>[Se]),_:1},8,["show","boxes"]),d(de,{show:!!i(n),boxes:g.boxes,onA:s[8]||(s[8]=o=>J(o)),onClose:s[9]||(s[9]=o=>y(n)?n.value=!1:n=!1)},{header:f(()=>[Te]),_:1},8,["show","boxes"]),t.$page.props.success?(p(),c("div",Ie,[e("div",Ee,[e("div",We,C(t.$page.props.success),1)])])):x("",!0),e("div",null,[e("div",Fe,[e("div",Oe,[e("div",je,[e("div",Le,[e("div",Re,[t.$page.props.auth.user.type_id==1||t.$page.props.auth.user.type_id==2||t.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none",onClick:s[10]||(s[10]=o=>W("outBox"))}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) - \u0628\u062F\u0648\u0646 \u0642\u0627\u0633\u0647 ")):x("",!0)]),e("div",qe,[t.$page.props.auth.user.type_id==1||t.$page.props.auth.user.type_id==2||t.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none",onClick:s[11]||(s[11]=o=>F("outBox"))}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) - \u0628\u062F\u0648\u0646 \u0642\u0627\u0633\u0647 ")):x("",!0)])]),e("div",He,[e("div",ze,[t.$page.props.auth.user.type_id==1||t.$page.props.auth.user.type_id==2||t.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none",onClick:s[12]||(s[12]=o=>W())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):x("",!0)]),e("div",Ye,[t.$page.props.auth.user.type_id==1||t.$page.props.auth.user.type_id==2||t.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none",onClick:s[13]||(s[13]=o=>F())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):x("",!0)]),e("div",Ge,[e("div",null,[d(k,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),d(S,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:i(w),"onUpdate:modelValue":s[14]||(s[14]=o=>y(w)?w.value=o:w=o)},null,8,["modelValue"])])]),e("div",Je,[e("div",null,[d(k,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),d(S,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:i($),"onUpdate:modelValue":s[15]||(s[15]=o=>y($)?$.value=o:$=o)},null,8,["modelValue"])])]),e("div",Ke,[d(k,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:s[16]||(s[16]=se(o=>N(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[i(E)?(p(),c("span",Qe,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Pe,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",Xe,[d(k,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded",style:{display:"block","text-align":"center"},href:`/getIndexAccounting?user_id=${(j=(_=r.value)==null?void 0:_.user)==null?void 0:j.id}&from=${i(w)}&to=${i($)}&print=1`,target:"_blank"},[i(E)?(p(),c("span",ss,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",es,"\u0637\u0628\u0627\u0639\u0629"))],8,Ze)])]),x("",!0),e("div",ts,[e("div",os,[e("div",null,[d(k,{for:"to",value:`\u062D\u0633\u0627\u0628 ${g.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),d(S,{id:"to",type:"text",disabled:"",class:"mt-1 block w-full",value:O(r.value.sumInTransactionsUser-r.value.sumOutTransactionsUser)},null,8,["value"])])]),e("div",as,[e("div",null,[d(k,{for:"to",value:`\u062D\u0633\u0627\u0628 ${g.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),d(S,{id:"to",type:"text",disabled:"",class:"mt-1 block w-full",value:O(r.value.sumInTransactionsDinarUser-r.value.sumOutTransactionsDinarUser)},null,8,["value"])])])]),e("div",ls,[e("table",rs,[ns,e("tbody",null,[(p(!0),c(L,null,te(i(A),o=>(p(),c("tr",{key:o.id,class:oe([o.type!="inUser"?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",ds,C(o.id),1),e("td",is,C(o==null?void 0:o.created),1),e("th",us,C(o.description),1),e("td",ps,C(o.amount+" "+o.currency),1),cs],2))),128))])])]),e("div",ms,[d(i(ie),{car:t.car,onInfinite:H,identifier:i(T)},null,8,["car","identifier"])])])])])])]}),_:1})],64))}};export{Ns as default};
